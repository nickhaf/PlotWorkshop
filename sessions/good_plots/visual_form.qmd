---
title: "Visual Form"
title-slide-attributes:
  data-background-image: ./images/eye_landscape.jpg
  data-background-size: cover
format: 
  letterbox-revealjs:
    code-block-height: 650px
bibliography: refs.bib
---


```{r}
#| label: Load pacakges
#| echo: false
#| message: false

library(here)
library(janitor)
library(ggwordcloud)
library(ggrepel)
library(ggtext)
library(showtext)
library(tidyverse)
source(here::here("src", "themes.R"))
source(here::here("src", "functions.R"))

gapminder <- readRDS(here::here("data", "gapminder_dat.rds"))

gapminder_europe <- gapminder %>%
  filter(world_4region == "europe", time >= 1900, time <= 2024) %>%
  drop_na(gini)

gapminder_2020 <- gapminder %>%
  filter(time == 2020) %>%
  drop_na(world_6region, world_4region, country, gini, hapiscore_whr) %>%
  arrange(desc(co2_cons))
```

## Visual Form


::: {.columns}
::: {.column width="50%}
::: {.quote}
Design is a requirement, not a cosmetic addition. 

::: {.small}
[nature methods](https://www.nature.com/articles/nmeth.1783)
:::
:::

\

- N√ºtzlichkeit
- Effizienz
- √Ñsthetik

:::
::: {.column width="50%}
![](./images/eye.jpg){.image-right}
:::
:::

::: {.image-ref}
Foto von <a href="https://unsplash.com/de/@samscrim?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Samuel Scrimshaw</a> auf <a href="https://unsplash.com/de/fotos/macro-photography-of-gray-alligator-eye-iq8x4Ik8mi8?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>
      
:::



# Effizienz: Salienz von Informationen

\ 
\

Durch die Unterscheidbarkeit von grafischen Symbolen (*visual features*) soll grafische Informationen m√∂glichst schnell aufgenommen werden, ohne lange √ºberlegen zu m√ºssen.

Daf√ºr k√∂nnen die sog. [Gestalt-Prinzipien]{.highlight} genutzt werden. 

## Gestalt-Prinzipien

:::{.callout-tip}
## Menschen nehmen Muster nach gewissen Prinzipien wahr. Die Regeln, nach denen wir Muster wahrnehmen, werden Gestalt-Prinzipien genannt, beispielsweise:

- [**N√§he**: Einander nahe Elemente werden als zusammengeh√∂rig wahrgenommen]{.small}  
- [**√Ñhnlichkeit**: Einander √§hnliche Elemente werden als zusammengeh√∂rig wahrgenommen]{.small}  
- [**Verbundene Elemente**: Verbundene Elemente werden als zusammengeh√∂rig wahrgenommen]{.small}  
- [**Gute Fortsetzung**: Linien werden wahrgenommen, als folgten sie dem einfachsten Weg]{.small}  
- [**Geschlossenheit**: Unvollst√§ndige Elemente werden als vollst√§ndig wahrgenommen]{.small}  
- [**Figur und Grund**: Elemente sind entweder im Vorder- oder Hintergrund]{.small}  
- [**Gemeinsames Schicksal**: Elemente mit √§hnlicher Bewegungsrichtung werden als zusammengeh√∂rig wahrgenommen]{.small}

:::


## Salienz 

Salienz durch *visual features*:

![](./images/wong_salience.png)

::: {.image-ref}
Abbildung von [Wong, B. (2010)](https://www.nature.com/articles/nmeth1010-773)
:::



## Gruppieren

:::{.columns}
:::{.column widht="50%}

Gruppierung durch [Form]{.highlight} 

```{r}
#| echo: false

set.seed(123)
df <- data.frame(
  x = 1:20,
  y = cumsum(rnorm(20, 0.2)),
  group = factor(rep(1:2, times = 10))
)

ggplot(df, aes(x, y)) +
  geom_point(aes(shape = group), size = 3, show.legend = F) +
  theme_bg() +
  theme(
    axis.text.y = element_text(hjust = 1),
    panel.grid = element_blank(),
    legend.position = "none"
  )
```

:::

:::{.column widht="50%}

Gruppierung durch [verbundene Elemente]{.highlight}

```{r}
#| echo: false

ggplot(df, aes(x, y)) +
  geom_point(size = 3) +
  geom_line(aes(group = group), show.legend = F) +
  theme_bg() +
  theme(
    axis.text.y = element_text(hjust = 1),
    panel.grid = element_blank(),
    legend.position = "none"
  )
```

:::
:::



## Gruppieren durch N√§he

```{r}
#| echo: false
#| eval: false
#|

library(rvest)
library(httr)
library(polite)

url <- "https://en.wikipedia.org/wiki/Gun_ownership"
url_bow <- polite::bow(url)
url_bow

firearm_df <- polite::scrape(url_bow) %>%
  rvest::html_nodes("table.wikitable") %>%
  rvest::html_table(fill = TRUE) %>%
  as.data.frame() %>%
  rename(country = "Countries.and.territories", "guns" = "Estimate.of.civilian.firearms.per.100.people") %>%
  select(country, guns)

saveRDS(firearm_df, here::here("sessions", "good_plots", "data", "firearm_df.rds"))
```

```{r}
#| echo: false

firearm_df <- readRDS(here::here("sessions", "good_plots", "data", "firearm_df.rds"))
df <- data.frame(
  country = c("United States", "Germany", "France", "Canada", "Finland", "Austria", "Australia", "Italy", "Netherlands", "Switzerland"),
  mass_shootings = c(109, 5, 6, 4, 3, 2, 1, 2, 2, 2)
) %>%
  left_join(firearm_df) %>%
  mutate(labels = case_when(
    country == "United States" ~ "USA",
    country == "Germany" ~ "Germany",
    country == "Switzerland" ~ "Switzerland",
    country == "Netherlands" ~ "Netherlands",
    TRUE ~ NA
  ))
```


```{r}
#| echo: false
#| fig-height: 4
#| fig-width: 7

ggplot(
  data = df,
  aes(x = guns, y = mass_shootings, label = labels)
) +
  geom_point(aes(colour = ifelse(country == "United States", "USA", "noUSA")), size = 4) +
  scale_colour_manual(values = c("lightgrey", "red")) +
  geom_text_repel(vjust = -3, size = 5, color = "#01364C") +
  theme_bg() +
  theme(legend.position = "none") +
  xlab("Guns per 100 Civilians") +
  ylab("Number of Mass Shootings 2002 - 2022")
```


::: {.image-ref}
Data from [Rockefeller Institute](https://rockinst.org/blog/public-mass-shootings-around-the-world-prevalence-context-and-prevention/) and [Wikipedia](https://en.wikipedia.org/wiki/Gun_ownership). 
:::


## Darstellung von Gr√∂√üen

Die Gr√∂√üe von Elemenen kann auch genutzt werden, um Daten zu kodieren.

```{r}
#| echo: false
#| fig-width: 18
#| fig-height: 10

library(ggwordcloud)
library(showtext)

tags <- read.csv(here::here("data", "goodbooks-10k", "tags.csv"))
book_tags <- read.csv(here::here("data", "goodbooks-10k", "book_tags.csv"))
books <- read.csv(here::here("data", "goodbooks-10k", "books.csv"))


classics <- book_tags %>%
  left_join(books) %>%
  left_join(tags) %>%
  filter(tag_name == "classics") %>%
  filter(ratings_count > 20000, !duplicated(authors)) %>%
  select(original_title, average_rating, tag_name, ratings_count) %>%
  distinct() %>%
  arrange(ratings_count) %>%
  slice_tail(n = 50)


font_add_google("Special Elite", family = "my textfont")
font_add_google("Playfair Display")

showtext_auto()


set.seed(45)
ggplot(
  data = classics,
  mapping = aes(label = original_title, size = average_rating)
) +
  geom_text_wordcloud(family = "my textfont") +
  scale_size(range = c(5, 20)) +
  labs(
    title = "What to read next",
    subtitle = "According to the 50 most read classics on goodreads.",
    caption = "The larger the title, the higher the average rating."
  ) +
  theme_bg() +
  theme(
    title = element_text(family = "Playfair Display", size = 50),
    subtitle = element_text(family = "Playfair Display", size = 40),
    caption = element_text(family = "Playfair Display", size = 30)
  )
```

## Gruppierung durch Form

```{r}
#| output-location: column
#| code-line-numbers: "8"

ggplot(
  data = gapminder_2020,
  mapping = aes(
    x = gini,
    y = hapiscore_whr
  )
) +
  geom_point(aes(shape = world_4region)) +
  geom_smooth() +
  labs(
    title = "Ungleichheit = Un-Happiness?",
    subtitle = "Gini-Koeffizient und Happiness-Score in verschiedenen L√§ndern 2020",
    x = "Gini-Index",
    y = "Happiness-Score",
  ) +
  theme_bg()
```


## Darstellen von Gr√∂√üen

```{r}
#| output-location: column
#| code-line-numbers: "8"

ggplot(
  data = gapminder_2020,
  mapping = aes(
    x = gini,
    y = hapiscore_whr
  )
) +
  geom_point(aes(color = world_4region, size = pop)) +
  geom_smooth() +
  labs(
    title = "Ungleichheit = Un-Happiness?",
    subtitle = "Gini-Koeffizient und Happiness-Score in verschiedenen L√§ndern 2020",
    x = "Gini-Index",
    y = "Happiness-Score",
  ) +
  theme_bg()
```




## Einsch√§tzen von Gr√∂√üen

:::{.columns}
:::{.column widht="50%}

```{r}
#| echo: false

library(ggplot2)

# Define the data
df <- data.frame(
  row = rep(1:3, each = 2),
  column = rep(c("A", "B"), times = 3),
  size = c(1, 10, 1, 5, 1, 2)
)

# Plot
ggplot(df, aes(x = column, y = factor(row), size = size)) +
  geom_point(shape = 16, color = "#01364C") +
  scale_size_area(max_size = 30) + # keeps area proportional to value
  scale_y_discrete(name = NULL, limits = rev) +
  xlab(NULL) +
  theme_bg() +
  theme(
    axis.text.y = element_text(hjust = 1),
    panel.grid = element_blank(),
    legend.position = "none"
  )
```
:::

:::{.column widht="50%}

::: {.fragment}

```{r}
#| echo: false
library(ggplot2)

# Define the data
df <- data.frame(
  row = rep(1:3, each = 2),
  column = rep(c("A", "B"), times = 3),
  size = c(1, 10, 1, 5, 1, 2)
)

# Plot with squares
ggplot(df, aes(x = column, y = factor(row), size = size)) +
  geom_point(shape = 15, color = "#01364C") + # shape 15 = square
  scale_size_area(max_size = 30) + # still based on area
  scale_y_discrete(name = NULL, limits = rev) +
  xlab(NULL) +
  theme_bg() +
  theme(
    axis.text.y = element_text(hjust = 1),
    panel.grid = element_blank(),
    legend.position = "none"
  )
```

:::
:::
:::

::: {.fragment}
:::{.callout-caution}
Die Gr√∂√üe von Kreisen einzusch√§tzen ist schwer!
:::
:::


## Das gleiche gilt f√ºr Winkel!

::: {.slide data-background-color="white"}


::: {.columns}
 
Versuche, die Gr√∂√üen zu sortieren: 

::: {.column width="50%"}
```{r }
#| echo: false

continent_co2 <- gapminder_2020 %>%
  group_by(world_6region) %>%
  summarise(mean_co2_pcap_cons = mean(co2_pcap_cons, na.rm = TRUE)) %>%
  drop_na(mean_co2_pcap_cons)

continent_co2$world_6region <- factor(
  continent_co2$world_6region,
  levels = c(
    "south_asia",
    "sub_saharan_africa",
    "europe_central_asia",
    "middle_east_north_africa",
    "america",
    "east_asia_pacific"
  ),
  labels = c(
    "South Asia",
    "Sub-Saharan Africa",
    "Europe & Central Asia",
    "Middle East & North Africa",
    "Americas",
    "East Asia & Pacific"
  )
)

continent_co2_pct <- continent_co2 %>%
  mutate(percentage = mean_co2_pcap_cons / sum(mean_co2_pcap_cons)) %>%
  arrange(desc(world_6region)) %>%
  mutate(
    ymax = cumsum(percentage),
    ymin = c(0, head(ymax, -1))
  )


ggplot(
  continent_co2_pct,
  aes(x = "", y = percentage * 100, fill = world_6region)
) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar("y") +
  scale_fill_manual(values = theme_colors) +
  labs(title = "Share of global per capita CO2 consumption") +
  theme_minimal() +
  theme(
    axis.title = element_blank(),
    legend.position = "bottom",
    legend.key.size = unit(0.4, "cm"),
    legend.text = element_text(size = 7),
    legend.title = element_blank()
  )
```
:::

::: {.column width="50%"}
:::{.fragment}

```{r}
#| echo: false


continent_co2_pct <- continent_co2 %>%
  mutate(percentage = mean_co2_pcap_cons / sum(mean_co2_pcap_cons) * 100)

ggplot(
  continent_co2_pct,
  aes(x = world_6region, y = percentage, fill = world_6region)
) +
  geom_bar(stat = "identity", width = 1) +
  scale_fill_manual(values = theme_colors) +
  theme_minimal() +
  labs(title = "Share of global per capita CO2 consumption 2020") +
  theme(
    axis.title.x = element_blank(),
    axis.text.x = element_blank(),
    legend.position = "bottom",
    legend.key.size = unit(0.4, "cm"),
    legend.text = element_text(size = 7),
    legend.title = element_blank()
  )
```
:::
:::
:::
:::

## Das gleiche gilt f√ºr Winkel!


::: {.columns} 
::: {.column width="50%"}

![](./images/pie1.png)
[Quelle](https://scc.ms.unimelb.edu.au/resources/data-visualisation-and-exploration/no_pie-charts)
:::

::: {.column width="50%"}
![](./images/pie2.png)

[Quelle](https://www.data-to-viz.com/caveat/pie.html)
:::
:::

:::{.fragment}
:::{.callout-caution}
Kreis- bzw. Tortendiagramme sollten daher vermieden werden.
:::
:::

## Farbe

:::: {.columns} 
::: {.column width="50%"}

Farbe ist eine der wichtigsten Methoden, um Informationen zu [labeln]{.highlight}, [hervorzuheben]{.highlight}, [Werte]{.highlight} zu kommunizieren, [Realit√§t simulieren]{.highlight}, und um zu designen und zu [dekorieren]{.highlight}. 
:::

::: {.column width="50%"}
![](./images/colors.jpg){.image-right}
:::
:::

::: image-ref
Foto von <a href="https://unsplash.com/de/@efekurnaz?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Efe Kurnaz</a> auf <a href="https://unsplash.com/de/fotos/multicolored-hallway-RnCPiXixooY?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>
      
:::

## Kategoriale vs. quantitative Daten


```{r}
#| label: color-plot
#| echo: false


color_plot_cat <- ggplot(
  gapminder_2020,
  aes(x = gini, y = hapiscore_whr, color = world_6region)
) +
  geom_point(size = 3) +
  theme_bg()


color_plot_num <- ggplot(
  gapminder_2020,
  aes(x = world_6region, y = hapiscore_whr, color = gini)
) +
  geom_point(size = 3) +
  theme_bg()


color_plot_bar <- ggplot(
  gapminder_2020 %>% group_by(world_6region) %>%
    summarise(hapiscore_whr = mean(hapiscore_whr, na.rm = TRUE)) %>%
    drop_na(),
  aes(x = world_6region, y = hapiscore_whr, fill = world_6region)
) +
  geom_bar(stat = "identity", width = 1) +
  theme_bg() +
  theme(
    axis.title.x = element_blank(),
    axis.text.x = element_blank(),
    axis.ticks.x = element_blank(),
    axis.line.x = element_blank()
  )
```


::: {.columns}
::: {.column width="50%"}

### Kategoriale Daten
Verschiedene Farben, die sich gut unterscheiden lassen.

```{r}
#| echo: false
color_plot_cat
```

:::
::: {.column width="50%"}

### Quantitative Daten
Farbverl√§ufe, die eine Reihenfolge haben.

```{r}
#| echo: false
color_plot_num
```
:::
:::



## Skalenarten

![](./images/color_scales.png)

::: {.image-ref}
Bild von [nature methods](https://www.nature.com/articles/nmeth.2134/figures/1).
:::





## Farbwahrnehmung beim Menschen {style="text-align: right;"}

::: {.columns}
::: {.column width="50%"}
![](./images/electro_spec.svg){.image-left}
:::

::: {.column widht="50%"}

Prim√§rfarben des Lichts: [R]{.highlight}ot, [G]{.highlight}r√ºn, [B]{.highlight}lau

\

![](./images/cones_human.svg)


:::
:::

:::{.image-ref}
By <a href="//commons.wikimedia.org/wiki/File:Electromagnetic-Spectrum.png" title="File:Electromagnetic-Spectrum.png">Original: </a> <a href="//commons.wikimedia.org/wiki/User:Penubag" title="User:Penubag">Penubag</a>‚ÄÇVector: <a href="//commons.wikimedia.org/wiki/User:Victor_Blacus" title="User:Victor Blacus">Victor Blacus</a> - Own work based on: <a href="//commons.wikimedia.org/wiki/File:Electromagnetic-Spectrum.png" title="File:Electromagnetic-Spectrum.png">Electromagnetic-Spectrum.png</a>, <a href="https://creativecommons.org/licenses/by-sa/3.0" title="Creative Commons Attribution-Share Alike 3.0">CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=22428451">Link</a>  
By <a href="//commons.wikimedia.org/wiki/User:BenRG" title="User:BenRG">BenRG</a> - <span class="int-own-work" lang="en">Own work</span>, Public Domain, <a href="https://commons.wikimedia.org/w/index.php?curid=7873848">Link</a>
:::




##

::: {.columns}


::: {.column width="50%"}
Andere Tiere k√∂nnen auch mal mehr oder weniger haben:


![](./images/color_animals.png)
:::

::: {.column width="50%"}
![](./images/chicken.jpg){.image-right}
:::
:::

:::{.image-ref}
Bild aus [Farbsehen der Tiere](https://media.springernature.com/original/springer-static/image/art%3A10.1007%2Fs00347-017-0543-6/MediaObjects/347_2017_543_Fig1_HTML.gif?as=jpg)  
Foto von <a href="https://unsplash.com/de/@relentlessjpg?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Ben Moreland</a> auf <a href="https://unsplash.com/de/fotos/selective-focus-photography-of-brown-hen-auijD19Byq8?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>
      
:::

## Viele Tiere sehen nur grau

::: {.columns}

::: {.column width="50%"}

Warum √ºberhaupt Farbwahrnehmung?

::: {.fragment}

- [Konsistenz]{.highlight}: Farbt√∂ne sind unabh√§ngig vom Licht wahrnehmbar. 
- Aber: [More is not always better!]{.highlight} Zu viel kann auch vom Wesentlichen ablenken. 


<!-- : Affen vom Amerikanischen Kontinent sind teilweise die und teilweise tetra: di kann besser INsekten ausmachen, tri Fr√ºchte gegen gr√ºnen background.  -->


Farbwahrnehmung ist also subjektiv, und bringt nur einen Vorteil, wenn eine Bedeutung daraus abgeleitet werden kann. 

:::

:::

::: {.column width="50%"}
![](./images/whale.jpg){.image-right}
:::
:::


::: {.image-ref}
Foto von <a href="https://unsplash.com/de/@mero_dnt?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Chinh Le Duc</a> auf <a href="https://unsplash.com/de/fotos/ein-buckelwal-schwimmt-unter-der-wasseroberflache-P19iVmm7XUA?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>
:::


## More is not always better

::: {.columns}
::: {.column width="50%"}
```{r}
#| echo: false

color_plot_cat
```

:::
::: {.column width="50%"}

```{r}
#| echo: false

ggplot(
  gapminder_2020,
  aes(x = gini, y = hapiscore_whr, color = world_4region)
) +
  geom_point(size = 3) +
  theme_bg()
```

:::
:::


Mehr als [sechs]{.highlight} Farben sollten es auf keinen Fall werden!

::: {.callout-tip}
Alternative: Facetting. 
:::

## Farbe ist relativ

![](./images/color_perception.png)

Ganglienzellen √ºbertragen keine Informationen √ºber absolute Helligkeit,
sondern √ºber [relative Helligkeit]{.highlight}.


::: {.callout-info}
Visualisierung kann nicht gut darin sein, absolute Werte zu
kommunizieren (Tabellen k√∂nnen das besser). 
Aber: [Unterschiede]{.highlight} und [Ver√§nderungen]{.highlight}. 
:::


::: .{image-ref}
Bild von [Nature Methods](https://www.nature.com/articles/nmeth0810-573/figures/1). 
:::


## Farbe ist relativ
::: {.columns}
::: {.column width="50%"}

Hier sind die Farben klar unterscheidbar, und der Gini-Index l√§sst sich gut ablesen.

```{r}
#| echo: false
color_plot_cat
```

:::
::: {.column width="50%"}

Hier werden die tats√§chlichen Werte des Gini-Index nicht gut kommuniziert. 

```{r}
#| echo: false
color_plot_num
```
:::
:::


## Farbe ist relativ

```{r}
#| label: color_bias_reds
#| echo: false
#| fig-width: 14
#| fig-height: 7

theme_colors_red <- c(
  "#D80000",
  "#D80020",
  "#D80040",
  "#D80060",
  "#D80080",
  "#D80099"
)


color_plot_bar +
  scale_fill_manual(values = theme_colors_red)
```




## Eigenschaften von Farben

::: {.columns}

### Farbton, S√§ttigung, Helligkeit
Die drei Eigenschaften beschreiben das Aussehen von Farben. 

::: {.column width="50%"}

![](./images/color_properties.png)

:::


::: {.column width="50%"}

### Farbr√§ume
- RGB: **Zusammen**mischen von Licht der unterschiedlichen Farben. Alle drei zusammen ergeben wei√ü. 
- CMYK: **Ausblenden** aus dem wei√üen Farbspektrum durch Filter. Grundfarben: Gelb, Magenta (Purpur), Cyan (Blaugr√ºn) (+K - Key (also Schwarz))

:::
:::



## Salienz

Sticht eine Farbe hervor, ist sie besonders salient - das kann gewollt oder ungewollt sein. 

::: {.columns}
:::{.column widht="50%}

```{r}
#| label: color_bias__scatter_bar
#| echo: false

accent_scale <- c(
  "america" = "#7FC97F",
  "east_asia_pacific" = "#699896FF",
  "europe_central_asia" = "red",
  "middle_east_north_africa" = "#9FAFC0",
  "south_asia" = "#B49B97",
  "sub_saharan_africa" = "#E9E4A6FF"
)

color_plot_bar +
  scale_fill_manual(values = accent_scale)
```

:::


:::{.column widht="50%}
```{r}
#| label: color_balanced__scatter_bar
#| echo: false

theme_colors_3 <- c(
  "#9FAFC0", # ents√§ttigtes Dunkelblau
  "#B49B97", # ausgebleichtes Braun
  "#F2E2A0", # ausgebleichtes Gelb (statt Rot)
  "#A7C9C3", # stark aufgehelltes T√ºrkis
  "#D8B88C", # heller Orange-Braun-Ton
  "#A6B7CA", # blasser Stahlblau-Ton
  "#BFD4C2", # sehr blasses Olivgr√ºn
  "#D6C1D5", # blasses Flieder/Pastell-Lila
  "#D8D9DB" # sehr heller, neutraler Grauton
)

color_plot_bar +
  scale_fill_manual(values = theme_colors_3)
```


:::

:::



## Gr√∂√üe

:::{.columns}
:::{.column width="33%"}

```{r}
#| echo: false
#| fig-width: 6
#| fig-height: 8

ggplot(
  gapminder_2020,
  aes(x = gini, y = hapiscore_whr, color = world_6region)
) +
  geom_point(size = 1) +
  theme_bg()
```
:::

:::{.column width="33%"}
```{r}
#| echo: false
#| fig-width: 6
#| fig-height: 8

ggplot(
  gapminder_2020,
  aes(x = gini, y = hapiscore_whr, color = world_6region)
) +
  geom_point(size = 2) +
  theme_bg()
```
:::

:::{.column width="33%"}
```{r}
#| echo: false
#| fig-width: 6
#| fig-height: 8

ggplot(
  gapminder_2020,
  aes(x = gini, y = hapiscore_whr, color = world_6region)
) +
  geom_point(size = 3) +
  theme_bg()
```
:::
:::


## Farbfehlsichtigkeit

::: {columns}

::: {.column width="50%}
- Protanopie: Zapfentyp L (rot) fehlt: rot vs gr√ºn Schw√§che
- Deuteranopie: Zapfentyp M (gr√ºn) fehlt: rot vs gr√ºn Schw√§che
- Tritanopie: Zapfentyp S (blau) fehlt: blau vs gr√ºn, gelb vs violett Schw√§che

Rechts: Protanopie

:::
::: {.column width="50%"}
![](./images/cones_eye.jpg)
:::

:::

::: {.image-ref}
By Mark Fairchild, <a href="https://creativecommons.org/licenses/by-sa/3.0" title="Creative Commons Attribution-Share Alike 3.0">CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=32075732">Link</a>
:::


## Colorblind-Check

::: {.columns}
::: {.column width="50%"}
Auf [Colblindor](https://www.color-blindness.com/coblis-color-blindness-simulator/).

![](./images/colorblind_check.png)

:::

::: {.column width="50%"}
Mit [colorblindcheck](https://cran.r-project.org/web/packages/colorblindcheck/index.html).

```{r}
#| message: false
#| fig-height: 3

library(colorblindcheck)

palette_check(scales::hue_pal()(6), plot = TRUE)
```

:::
:::



## Farben w√§hlen

::: {.columns}
::: {.column width="50%"}
- Name: `"red"`
- rgb(): `rgb(1,0,0)`
- Hex code: `#FF0000`
:::

:::{.column width="50%"}
```{r}
#| code-line-numbers: "5,6"
ggplot(
  gapminder_2020,
  aes(x = gini, y = hapiscore_whr)
) +
  geom_point(size = 3, color = "#FF0000") +
  geom_smooth(color = "darkblue") +
  theme_bg()
```
:::
:::

## Farben manuell setzen

::: {.columns}
::: {.column width="50%"}

::: panel-tabset

### Code

```{r}
#| label: manual_color_scale
#| code-line-numbers: "12"
#| fig-show: hide

ggplot(
  continent_co2_pct,
  aes(
    x = world_6region,
    y = percentage,
    fill = world_6region
  )
) +
  geom_bar(stat = "identity", width = 1) +
  theme_minimal() +
  labs(title = "Share of global per capita CO2 consumption") +
  scale_fill_manual(values = c("red", "green", "blue", "yellow", "violet", "brown"))
```

### Plot

```{r}
#| label: manual_color_scale
#| echo: false
```

:::
:::

:::{.column widht="50%"}


::: panel-tabset

### Code

```{r}
#| label: manual_color_scale_named
#| code-line-numbers: "1,2,3,4,5,6,7,8,21"
#| reults: hide
#| fig-show: hide

my_color_scale <- c(
  "East Asia & Pacific" = "red",
  "South Asia" = "green",
  "Sub-Saharan Africa" = "blue",
  "Europe & Central Asia" = "yellow",
  "Middle East & North Africa" = "violet",
  "Americas" = "brown"
)

ggplot(
  continent_co2_pct,
  aes(
    x = world_6region,
    y = percentage,
    color = world_6region
  )
) +
  geom_bar(stat = "identity", width = 1) +
  theme_minimal() +
  labs(title = "Share of global per capita CO2 consumption 2020") +
  scale_color_manual(values = my_color_scale)
```

### Plot

```{r}
#| label: manual_color_scale_named
#| echo: false
```

:::

::: {.callout-tip}
Wenn du in einem Projekt die gleichen Gruppen in verschiedenen Plots zeigst, setze die Farbskala einmal mit den Gruppennamen, damit die Gruppen in allen Plots die selben Farben bekommen.
:::

:::
:::




## Graustufen 

```{r}
#| code-line-numbers: "12"
#| output-location: column


ggplot(
  continent_co2_pct,
  aes(
    x = world_6region,
    y = percentage,
    fill = world_6region
  )
) +
  geom_bar(stat = "identity", width = 1) +
  theme_minimal() +
  labs(title = "Share of global per capita CO2 consumption 2020") +
  scale_fill_grey()
```




## Externe Farb-Paletten

::: {.columns}
::: {.column width="50%"}
[**R Color Brewer**](https://r-graph-gallery.com/38-rcolorbrewers-palettes.html)

```{r}
library(RColorBrewer)
display.brewer.all(colorblindFriendly = FALSE)
```

:::
::: {.column width="50%"}


::: panel-tabset

### Code

```{r}
#| label: color_brewer
#| reults: hide
#| fig-show: hide
#| code-line-numbers: "1,14"

library(RColorBrewer)

ggplot(
  continent_co2_pct,
  aes(
    x = world_6region,
    y = percentage,
    fill = world_6region
  )
) +
  geom_bar(stat = "identity", width = 1) +
  theme_minimal() +
  labs(title = "Share of global per capita CO2 consumption") +
  scale_fill_brewer(palette = "PuOr")
```


### Plot

```{r}
#| label: color_brewer
#| echo: false
```

:::
:::
:::

## Externe Farb-Paletten
::: {.columns}
::: {.column width="50%"}
[**paletteer**](https://r-graph-gallery.com/package/paletteer.html)

Sammlung von Paletten aus diversen Paketen

- [Palette-Finder](https://r-graph-gallery.com/color-palette-finder)
- [Gallerie](https://pmassicotte.github.io/paletteer_gallery/#sequential)

:::

::: {.column width="50%"}

::: panel-tabset

### Code

```{r}
#| label: paletteer
#| reults: hide
#| fig-show: hide
#| code-line-numbers: "1,14"

library(paletteer)

ggplot(
  continent_co2_pct,
  aes(
    x = world_6region,
    y = percentage,
    fill = world_6region
  )
) +
  geom_bar(stat = "identity", width = 1) +
  theme_minimal() +
  labs(title = "Share of global per capita CO2 consumption") +
  scale_fill_paletteer_d("LaCroixColoR::Orange")
```


### Plot

```{r}
#| label: paletteer
#| echo: false
```

:::
:::

:::



## üèã √úbung

::: {.columns}
::: {.column width="50%"}
::: {.exercise}
1. Wechsel die Farbpalette f√ºr deinen Plot und teste sie auf Farbfehlsichtigkeiten.
:::
:::
::: {.column width="50%"}
![](./images/paint.jpg){.image-right}
:::
:::

::: {.image-ref}
Foto von <a href="https://unsplash.com/de/@geordannatheartist?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Geordanna Cordero</a> auf <a href="https://unsplash.com/de/fotos/mehrfarbige-abstrakte-malerei-2Qg4y32pdCc?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>

:::

# Funktionelles Desing

## Funktionelles Desing

:::{.columns}

::: {.column width="50%"}
![](./images/remote.jpg)

:::

:::{.column width="50%"}
![](./images/remote_2.jpg)

::: image-ref
Foto von <a href="https://unsplash.com/de/@kellysikkema?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Kelly Sikkema</a> auf <a href="https://unsplash.com/de/fotos/drei-schwarze-fernbedienungen-auf-holztisch-HprPUHnjDgk?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>  
Foto von <a href="https://unsplash.com/de/@ymoran?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Yucel Moran</a> auf <a href="https://unsplash.com/de/fotos/schwarze-fernbedienung-auf-weissem-textil-LJW-blAKI98?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>
:::

:::
:::

Hier gilt ganz besonders: [Simplify to Clarify]{.highlight}


## Funktionelles Design {.nostretch}

:::{.columns}

::: {.column width="67.5%"}
![](./images/map.png)

::: .image-ref
Foto von <a href="https://www.bvg.de/.imaging/mte/bvg-theme/zoomed3000w/dam/BVG-Bilder/Verbindungen/netz-ab-01-a.jpg/jcr:content/netz-ab-01-a.jpg">BVG</a>
:::

:::

:::{.column width="32.5%"}
![](./images/fahrplan-tabelle.png)

::: image-ref
Foto von <a href="https://www.bvg.de/de/verbindungen/linienuebersicht">BVG</a>
:::

:::
:::

::: {.callout-tip}
Dabei kann es helfen, sich von bereits vorhandenen Plots inspirieren zu lassen.  
Handschriftliche Skizze ist auch erstmal hilfreich!
:::



## Simplify to clarify: Data-ink ratio

::: .{quote}
Data graphics should draw the viewer's attention to the sense and substance of the data, not to something else. 

::: {.small}
@tufte1983visual
:::
:::



::: {.columns}
::: {.column width="50%"}
\
\

Data-ink ratio = Data-ink / Total ink used to print the graphic


::: {.callout-note}
Jedes St√ºck Tinte sollte einen Grund haben.  
:::

:::
::: {.column width="50%"}

![](./images/eeg.png)

:::{.image-ref}
<a href="https://creativecommons.org/licenses/by-sa/2.0" title="Creative Commons Attribution-Share Alike 2.0">CC BY-SA 2.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=845554">Link</a>
:::

:::
:::

## Data-ink ratio in Praxis


::: {.columns}
::: {.column width="33%"}

10% Daten, 90 % Achsenbeschriftungen und Hintergrundlinien

::: {.panel-tabset}

### Plot

```{r}
#| echo: false
#| label: excel_plot


library(ggthemes)

ggplot(
  data = gapminder_2020,
  mapping = aes(x = gini, y = hapiscore_whr, color = world_4region)
) +
  geom_point() +
  theme_excel() +
  scale_x_continuous(
    breaks = scales::pretty_breaks(n = 10), # ensure ticks
    minor_breaks = waiver() # ensures minor ticks too
  ) +
  scale_y_continuous(
    breaks = scales::pretty_breaks(n = 10),
    minor_breaks = waiver()
  ) +
  theme(
    panel.grid.major = element_line(color = "grey60", size = 1.2), # thick major grid
    panel.grid.minor = element_line(color = "grey60", size = 0.8) # thick minor grid
  )
```

### Code

```{r}
#| eval: false
#| label: excel_plot
```

:::


:::

::: {.column width="33%"}
:::{.fragment}


0% Daten (Plotte die Daten, keine Zusammenfassungen)

::: {.panel-tabset}
### Plot
```{r}
#| echo: false
#| label: mean_plot

ggplot(
  data = gapminder_2020,
  mapping = aes(x = gini, y = hapiscore_whr, color = world_4region)
) +
  geom_smooth()
```

### Code
```{r}
#| eval: false
#| label: mean_plot
```
:::

:::

:::

::: {.column width="33%"}

::: {.fragment}
ca. 90 % Daten, 10 % Achsenbeschriftungen und Legende

::: {.panel-tabset}
### Plot
```{r}
#| echo: false
#| label: tufte_plot

library(ggthemes)
ggplot(
  data = gapminder_2020,
  mapping = aes(x = gini, y = hapiscore_whr, color = world_4region)
) +
  geom_point() +
  theme_tufte()
```

### Code
```{r}
#| eval: false
#| label: tufte_plot
```
:::
:::
:::
:::

## Redundanzen 

::: {.quote}
Erase non-data-ink, within reason. Erase redundant data-ink, within reason. 

::: {.small}
@tufte1983visual
:::
:::


::: .{exercise}
::: {.panel-tabset}

### Frage

Auf wie viele Arten wird hier die H√∂he der CO2 Emissionen pro Kopf dargestellt?

```{r}
#| echo: false
#| fig-height: 4

ggplot(
  gapminder_2020[1:10, ],
  aes(x = reorder(country, co2_pcap_cons), y = co2_pcap_cons, fill = co2_pcap_cons, color = co2_pcap_cons, label = round(co2_pcap_cons), 2)
) +
  geom_bar(stat = "identity", width = 1, color = "black") +
  geom_text(vjust = -1, color = "black") +
  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  labs(
    x = "Land",
    y = "CO2 Consumption per capita in t"
  ) +
  theme_bg()
```

### Antwort

Auf [sieben]{.highlight} verschiedene Arten: 

1. H√∂he der linken Balkenlinie
2. H√∂he der rechten Balkenlinie
3. H√∂he der horizontalen Balkenlinie
4. H√∂he des Balkeninneren
5. Farbe des Balkens
6. Position des Labels
7. Wert des Labels

Balken an sich enthalten also schon redundante Informationen!

:::
:::

## 



::: {.panel-tabset}

### Aufgabe
::: .{exercise}

Entferne alle Redundanzen, machen den Plot also "Tufte-Komform" 

:::

```{r}
#| output-location: column

ggplot(
  gapminder_2020[1:10, ],
  aes(x = reorder(country, co2_pcap_cons), y = co2_pcap_cons, fill = co2_pcap_cons, color = co2_pcap_cons, label = round(co2_pcap_cons), 2)
) +
  geom_bar(stat = "identity", width = 1, color = "black") +
  geom_text(vjust = -1, color = "black") +
  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  labs(
    x = "Land",
    y = "CO2 Consumption per capita in t"
  ) +
  theme_bg()
```

### Antwort

::: {.panel-tabset}

#### Antwort 1


Entfernen der Achsenlinien und Umrandungen. Hintergrundlinien werden innerhalb der Balken dargestellt. 


```{r}
#| output-location: column
#| fig-height: 4.5

library(ggthemes)

ggplot(
  gapminder_2020[1:10, ],
  aes(x = reorder(country, co2_pcap_cons), y = co2_pcap_cons)
) +
  geom_bar(stat = "identity", width = 0.5, color = NA, fill = "grey") +
  geom_hline(yintercept = seq(0, 30, by = 5), color = "white", size = 0.3) +
  theme(axis.text.x = element_text(angle = 90, hjust = 1), axis.ticks = element_blank()) +
  labs(
    x = "Land",
    y = "CO2 Consumption per capita in t"
  ) +
  theme_tufte()
```


#### Antwort 2

Mitunter k√∂nnen die vertikalen und horizontalen Linien auch hilfreich beim Vergleich/bei der Zuordnung zum Land sein.

```{r}
#| output-location: column
#| fig-height: 4.5

library(ggplot2)

ggplot(
  gapminder_2020[1:10, ],
  aes(x = reorder(country, co2_pcap_cons), y = co2_pcap_cons)
) +
  # vertikale Linie, leicht nach links geschoben
  geom_segment(
    aes(xend = reorder(country, co2_pcap_cons), y = 0, yend = co2_pcap_cons),
    position = position_nudge(x = -0.14)
  ) +
  geom_segment(aes(
    x = as.numeric(reorder(country, co2_pcap_cons)) - 0.15,
    xend = as.numeric(reorder(country, co2_pcap_cons)) + 0.15,
    y = co2_pcap_cons, yend = co2_pcap_cons
  )) +
  ylim(c(0, 30)) +
  labs(
    x = "Land",
    y = "CO2 Consumption per capita in t"
  ) +
  theme_tufte() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```

:::
:::
:::

## Maximieren von Informationen

::: {.columns}

::: {.column width = "50%"}
### Normaler Scatterplot

Box um den Plot, Grid-Linien, Achsen-Ticks: Alles keine Daten. 

::: {.panel-tabset}

### Plot

```{r}
#| label: normal_scatter
#| fig-height: 4.5
#| echo: false


ggplot(
  data = gapminder_2020,
  mapping = aes(x = gini, y = hapiscore_whr, color = world_4region)
) +
  geom_point()
```

### Code

```{r}
#| label: normal_scatter
#| eval: false
```

:::
:::

::: {.column width = "50%"}


### Tufte-Scatterplot

Nutzen der Ticks und Achsen-Linien, um Informationen zu transportieren. 

::: {.panel-tabset}

### Plot

``` {r}
#| echo: false
#| label: tufte_scatter
#| fig-height: 4.5

library(paletteer)


xlim_v <- c(20, 80)
ylim_v <- c(20, 80)

# Parameter: Anzahl der Quantile, Versatz von den R√§ndern, kleine L√ºcke zwischen Segmenten
probs <- seq(0, 1, by = 0.25) # Quartile; f√ºr Dezile: by = 0.1
off_x <- 0 # Versatz der "y-Achse" nach rechts
off_y <- 0 # Versatz der "x-Achse" nach oben
gap <- 0.2 # kleine L√ºcke an Segmentenden (optisch sch√∂ner)

qx <- quantile(gapminder_2020$gini, probs = probs, na.rm = TRUE)
qy <- quantile(gapminder_2020$hapiscore_whr, probs = probs, na.rm = TRUE)

# Segment-Dataframes bauen (pro Intervall ein Segment)
seg_x <- tibble(
  x    = pmax(qx[-length(qx)] + gap / 2, xlim_v[1]),
  xend = pmin(qx[-1] - gap / 2, xlim_v[2]),
  y    = ylim_v[1] + off_y,
  yend = ylim_v[1] + off_y
) %>% filter(x < xend)

seg_y <- tibble(
  x    = xlim_v[1] + off_x,
  xend = xlim_v[1] + off_x,
  y    = pmax(qy[-length(qy)] + gap / 2, ylim_v[1]),
  yend = pmin(qy[-1] - gap / 2, ylim_v[2])
) %>%
  filter(y < yend)

ggplot(
  data = gapminder_2020,
  mapping = aes(x = gini, y = hapiscore_whr, color = world_4region)
) +
  geom_point() +
  # Quantil-"x-Achse" (horizontal) leicht ins Panel versetzt
  geom_segment(
    data = seg_x,
    aes(x = x, xend = xend, y = y, yend = yend),
    inherit.aes = FALSE
  ) +
  # Quantil-"y-Achse" (vertikal) leicht ins Panel versetzt
  geom_segment(
    data = seg_y,
    aes(x = x, xend = xend, y = y, yend = yend),
    inherit.aes = FALSE
  ) +
  scale_x_continuous(breaks = unique(c(round(seg_x$x, 0), round(seg_x$xend, 0)))) +
  scale_y_continuous(breaks = unique(c(round(seg_y$y, 0), round(seg_y$yend, 0)))) +
  coord_cartesian(xlim = xlim_v, ylim = ylim_v, expand = FALSE) +
  theme_tufte() +
  theme(axis.ticks = element_blank()) +
  paletteer::scale_colour_paletteer_d("fishualize::Koumansetta_rainfordi")
```

### Code

```{r}
#| label: tufte_scatter
#| eval: false
```

:::
:::
:::



## Verteilungen Plotten

\
\
\

Reduzieren hei√üt nicht, die Informationen zu reduzieren, sondern den Chart-Junk!  
Sehr oft macht es Sinn, [die gesamte Verteilung zu plotten]{.highlight}, m√∂glicherweise auch [zus√§tzlich]{.highlight} zu zusammenfassenden Statistiken.

## Verteilungen plotten

::: {.columns}
::: {.column width = "50%"}

### Boxplot

::: {.panel-tabset}

### Plot

```{r}
#| label: boxplot_happy
#| echo: false

ggplot(
  data = gapminder_2020 %>% drop_na(country),
  aes(x = world_4region, y = hapiscore_whr, fill = world_4region)
) +
  geom_boxplot() +
  theme(axis.ticks = element_blank(), legend.position = "none") +
  scale_fill_paletteer_d("fishualize::Koumansetta_rainfordi") +
  xlab("Region") +
  ylab("Happiness Score (World Happiness Report)")
```

### Code 

```{r}
#| label: boxplot_happy
#| eval: false
```
:::
:::

::: {.column width = "50%"}

### Tufte-Boxplot

::: {.panel-tabset}

### Plot

```{r}
#| echo: false
#| label: tufte-box

library(ggthemes)

ggplot(
  data = gapminder_2020 %>% drop_na(country),
  aes(x = world_4region, y = hapiscore_whr, group = world_4region)
) +
  geom_jitter(alpha = 0.5, color = "lightgrey") +
  geom_tufteboxplot() +
  scale_fill_paletteer_d("fishualize::Koumansetta_rainfordi") +
  xlab("Region") +
  ylab("Happiness Score (World Happiness Report)") +
  theme_tufte()
```

### Code

```{r}
#| label: tufte-box
#| eval: false
```
:::
:::
:::


## Zusammenfassung

\
\

1. Above all else show the data. 
1. Maximize the data-ink ratio, within reason.
1. Erase non-data-ink, within reason.
1. Erase redundant data-ink, within reason.
1. Revise and edit.

::: image-ref
Aus @tufte1983visual. 
:::

# Design

## Design {background-color="black"}

![](./images/space.png)

::: {.image-ref}
Abbildung von [C√©dric Scherer]https://www.behance.net/gallery/100683383/Travelling-to-Outer-Space#).
:::


## Farben als Design-Element

::: {.columns}
::: {.column width="50%"}


![](./images/farbkreis.png)

:::
::: {.column width="50%"}

::: {.quote}
All colors are the friends of their neighbors and the lovers of their opposites. - Marc Chagall 
::: 

:::
:::

::: image-ref
Nach <a href="https://de.wikipedia.org/wiki/User:MalteAhrens" class="extiw" title="de:User:MalteAhrens">MalteAhrens</a> at <a class="external text" href="https://de.wikipedia.org">de.wikipedia</a>. Vectorization by <a href="//commons.wikimedia.org/wiki/User:SidShakal" title="User:SidShakal">User:SidShakal</a> - Raster version from Wikimedia Commons., Gemeinfrei, <a href="https://commons.wikimedia.org/w/index.php?curid=3574696">Link</a>
:::

## Kleine Farbenlehre

:::{.columns}
:::{.column width="50%"}

![](./images/zoeaaf.jpg)

::: image-ref
<a href="https://commons.wikimedia.org/wiki/File:De_zoeaaf_-_s0067V1962_-_Van_Gogh_Museum.jpg">Vincent van Gogh</a>, Public domain, via Wikimedia Commons
:::
:::

:::{.column width="50%"}
- Gegen√ºberliegende Farben intensivieren sich gegenseitig: eine Prim√§rfarbe, und eine Sekund√§rfarbe, die aus den anderen beiden Prim√§rfarben gemischt wird. Das erzeugt st√§rkere Kontraste. (Van Gogh bild)
- Mit wei√ü und schwarz lassen sich die Schattierungen hinzumischen
- triadisches Farbschema: Fom MIttelpunkt des Farbkreises Strahlen mit gleichem Winkel abgehen lassen (So viele, wie man Farben haben will). Das w√§hlt dann Farben mit dem gr√∂√üten Kontrast aus. 
(https://www.kunstplaza.de/fashion-design/farbenlehre-farbtheorie-styleguides-fashion-design/)

:::
:::



## Weitere Tools

::: {.columns}

::: {.column width="50%"}

![](./images/hue_box.jpg)

::: .image-ref
Wollbox von Vincent van Gogh, mit der er Farbkombinationen getestet hat. Eigenes Bild. 
:::
:::

::: {.column width ="50%"}
\
\
- [Colorbrewer](https://colorbrewer2.org/#type=sequential&scheme=BuGn&n=3)  
- [Huemint](https://huemint.com/)  
- [Pinterest](https://de.pinterest.com/cereusart/color-palettes/)  

:::
:::


## Schriften

Die Schriftart kann einer Abbildung ein ganz anderes Aussehen verleihen.  
Wir nutzen Schriftarten von [Google Fonts](https://fonts.google.com/).


```{r}
#| eval: false

library(showtext)

font_add_google("Special Elite", family = "special")
```


## Schriftart

::: {.panel-tabset}

### Plot

```{r}
#| echo: false
#| label: wordcloud_plot
#| fig.width: 12

library(ggwordcloud)

tags <- read.csv(here::here("data", "goodbooks-10k", "tags.csv"))
book_tags <- read.csv(here::here("data", "goodbooks-10k", "book_tags.csv"))
books <- read.csv(here::here("data", "goodbooks-10k", "books.csv"))


classics <- book_tags %>%
  left_join(books) %>%
  left_join(tags) %>%
  filter(tag_name == "classics") %>%
  filter(ratings_count > 20000, !duplicated(authors)) %>%
  select(original_title, average_rating, tag_name, ratings_count) %>%
  distinct() %>%
  arrange(ratings_count) %>%
  slice_tail(n = 50)


set.seed(45)
ggplot(
  data = classics,
  mapping = aes(label = original_title, size = average_rating)
) +
  geom_text_wordcloud() +
  scale_size(range = c(1, 6)) +
  labs(
    title = "What to read next ...",
    subtitle = "... according to goodreads"
  ) +
  theme_bg()
```

### Code
```{r}
#| label: wordcloud_plot
#| eval: false
```

:::

::: {.image-ref}
Daten von [zygmuntz](https://github.com/zygmuntz/goodbooks-10k). 
:::


## Schriftart
```{r}
#| fig.showtext: TRUE
#| output-location: column
#| fig-width: 7
#| fig-height: 10
#| code-line-numbers: "1,2,3,12,19"

font_add_google("Special Elite", family = "my textfont")
font_add_google("Playfair Display")

showtext_auto()


set.seed(45)
ggplot(
  data = classics,
  mapping = aes(label = original_title, size = average_rating)
) +
  geom_text_wordcloud(family = "my textfont") +
  scale_size(range = c(1, 6)) +
  labs(
    title = "What to read next",
    subtitle = "According to goodreads"
  ) +
  theme_bg() +
  theme(title = element_text(family = "Playfair Display", size = 20), )
```


## üèã √úbung

::: {.columns}
::: {.column width="50%"}
::: {.exercise}
Suche dir eine Schriftart aus [Google Fonts](https://fonts.google.com/) und baue sie in deinen Plot ein.
:::
:::
::: {.column width="50%"}
![](./images/font.jpg){.image-right}

:::
:::

::: {.image-ref}
Foto von <a href="https://unsplash.com/de/@foxfox?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Natalia Y.</a> auf <a href="https://unsplash.com/de/fotos/grauer-schmuck-mit-verschiedenen-buchstaben-in-braunen-organizer-boxen-aus-holz-Oxl_KBNqxGA?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>
:::

## Literatur